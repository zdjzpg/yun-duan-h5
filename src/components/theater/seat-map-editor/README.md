# 座位图编辑器

**景区 SaaS 剧场业务管理系统 - 核心模块**

一个基于 Vue 3 + TypeScript + Ant Design Vue 的专业级座位图编辑器，功能和 a 项目 React 版本对齐，支持多楼层、座区管理、精确选座等完整的剧场座位管理能力。

---

## 核心特性
### 三种容量模式

- **自由站席**：无固定座位，只设置容量上限  
- **按座区数量**：按区域设置座位数量，不精确到具体位置  
- **精确座位模式**：完整的座位图编辑器（本模块）

### 核心功能

#### 基础编辑（阶段 1–2）
- 座位绘制：单个绘制、批量生成、自由拖拽  
- 选择操作：单选、框选、Shift 多选  
- 编辑操作：复制、剪切、粘贴、删除、撤销 / 重做  
- 对齐工具：左对齐、右对齐、水平居中、上对齐、下对齐、垂直居中  

#### 高级功能（阶段 3–4）
- 座位状态：可用 / 禁用（设备占用、维护中等）  
- 座位标签：VIP、无障碍等  
- 座位编号：自动编号、批量重新编号  
- 舞台管理：添加舞台、调整方向、设置颜色  
- 背景图：上传、调整、透明度控制  

#### 多楼层管理（阶段 5）
- 楼层切换：快速切换不同楼层  
- 楼层管理：新建、编辑、删除、拖拽排序  
- 独立编辑：每个楼层有独立的座位、舞台、背景图  

#### 座区管理（阶段 6，已对齐 a 项目）
- 座区创建：基于选中座位一键创建座区  
- 座区编辑：修改名称、颜色、简称、显示顺序  
- 座区删除：删除配置但保留座位本身  
- 座区着色：自动渲染座区颜色（浅色背景），与 a 项目一致  
- 支持两种售卖方式：按区域售卖 / 精确选座  

---

## 快速开始
### 1. 新同学必读（约 15 分钟）
**推荐阅读顺序：**

1. `docs/overview/QUICK_REFERENCE.md` – 5 分钟，速览三大核心原则和主要功能  
2. `docs/overview/DESIGN_PRINCIPLES.md` – 5–10 分钟，理解设计理念和常见误区  
3. `docs/overview/FEATURES_SHOWCASE.md` – 5–10 分钟，通过实际场景理解交互

**完整文档索引：**  
参见 `docs/overview/DOCS_INDEX.md`

---

### 2. 开发新功能

**开发前：**
- [ ] 阅读 `docs/overview/QUICK_REFERENCE.md`  
- [ ] 回答“开发前三问”：这是做什么？怎么用？会出什么错？  
- [ ] 对照真实场景：剧场管理员如何操作？

**开发中：**
- [ ] 对照 `docs/overview/DESIGN_PRINCIPLES.md` 的检查清单  
- [ ] 确认符合三大核心原则（可视化、一致性、可恢复）

**开发后：**
- [ ] 为本次改动补一份阶段文档（`docs/history/PHASE{X}_{Y}_XXX.md`）  
- [ ] 更新 `DOCS_INDEX.md` 中的索引

**开发前小清单：**
- [ ] 明确本次改动：Bugfix / Feature / Refactor  
- [ ] 再读一遍 README，确认模块划分和文档入口一致

---

## 测试

### 手动测试清单（座区相关示例）

**座区创建流程：**
- [ ] 选中座位 → 右键 → 创建座区  
- [ ] 选中座位 → 右侧面板 → 创建座区  
- [ ] 未选中座位时，提示“请先选择座位”  
- [ ] 创建成功后，座位立即显示座区颜色  
- [ ] 座位的 `zoneId` / `zoneName` / `zoneColor` 与座区配置一致  

**座区颜色显示：**
- [ ] VIP 区（红色） → 座位显示浅红背景  
- [ ] 普通区（蓝色） → 座位显示浅蓝背景  
- [ ] 标签颜色优先级高于座区颜色（例如无障碍、VIP 标签）  
- [ ] 删除座区后，座位恢复为状态颜色  

**边界情况：**
- [ ] 同一楼层座区重名时给出错误提示  
- [ ] 删除座区时，座位保留，只清除座区关联  
- [ ] 删除楼层时，相关座区与座位一并处理（对齐 a 项目行为）  

---

## 已知问题

当前没有已知未解决问题。  
如果发现 Bug：  
1. 新建 `docs/history/PHASE{X}_{Y}_BUGFIX.md`  
2. 说明问题现象、根因分析、修复方案  
3. 更新 `DOCS_INDEX.md`

---

## 贡献指南

### 文档维护

**发现新的思维误区：**
- 更新 `DESIGN_PRINCIPLES.md` 中的常见思维误区章节  
- 更新 `QUICK_REFERENCE.md` 中的“注意事项 / 坑点”

**完成新功能时：**
- 补充阶段文档（`PHASE{X}_{Y}_XXX.md`）  
- 更新 `DOCS_INDEX.md`  
- 如有必要，补充本 README 的“开发进度”部分

---

## 联系方式

- 文档问题：直接修改对应 md 文件，或在团队内反馈  
- 功能建议：在需求评审 / 方案讨论时提出  
- Bug 反馈：按“已知问题 / Bugfix 文档”流程记录

---

**最后更新：** 2025-12-26  
**文档维护：** 座位图编辑器开发小组  
**文档状态：** 持续维护中

